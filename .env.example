# Core application settings
APP_ENV=development
DEBUG=true
# ⚠️  CRITICAL: Generate strong secrets before deploying!
# Run: openssl rand -base64 32
SECRET_KEY=change-me  # MUST CHANGE - validation will fail if not replaced

# Database configuration
POSTGRES_DB=moviestream
POSTGRES_USER=streamadmin
POSTGRES_PASSWORD=please-change-me
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql+psycopg2://streamadmin:please-change-me@localhost:5432/moviestream

# Redis configuration
REDIS_URL=redis://redis:6379/0
CORS_ORIGINS=http://localhost:8000,http://127.0.0.1:8000,http://localhost:3000

# Streaming configuration
YOUTUBE_STREAM_KEY=your_youtube_stream_key
YOUTUBE_RTMP_URL=rtmp://a.rtmp.youtube.com/live2
STREAM_RESOLUTION=1920x1080
STREAM_BITRATE=4000
STREAM_FPS=30
STREAM_HARDWARE_ACCEL=auto

# Monitoring / alerting
ALERT_EMAIL=admin@example.com
SENTRY_DSN=
PROMETHEUS_PORT=9090

# API
JWT_SECRET=change-me  # MUST CHANGE - validation will fail if not replaced
JWT_ALGORITHM=HS256
JWT_EXPIRY_MINUTES=60
# ⚠️ Must be rotated before deployment; minimum 12 characters.
ADMIN_DEFAULT_PASSWORD=please-change-me-now
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60
PREVIEW_RATE_LIMIT_REQUESTS=30
PREVIEW_RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX_KEYS=20000
REQUEST_TIMEOUT_SECONDS=30
LOCK_WAIT_WARNING_SECONDS=2
LOCK_HOLD_WARNING_SECONDS=10
MAX_UPLOAD_MB=512
CSRF_TOKEN_TTL_SECONDS=7200
MOVIES_DIR=/workspace/streamhost/data/movies
LOGS_DIR=/workspace/streamhost/data/logs
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=10
STREAM_RESTART_BASE_DELAY=5
STREAM_RESTART_MAX_DELAY=300
STREAM_RESTART_MAX_ATTEMPTS=10
STREAM_RESTART_STRATEGY=exponential
STREAM_PREVIEW_SEGMENT_SECONDS=4
